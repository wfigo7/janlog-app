# ADR-0003: 認証に Amazon Cognito（User Pool）を採用する

## 日付
2025-09-08

## 背景
- 少人数で招待配布したい（勝手なサインアップを避ける）。
- メール＋パスワードで開始し、将来 Google/Apple を追加したい。
- API Gateway の JWT 認可と相性が良い選択が欲しい。

## 決定
- Cognito User Pool を用い、メール＋パスワードで認証。
- 招待リンク配布を基本。API Gateway は JWT Authorizer を使用。

## 代替案
- Supabase Auth / Auth0：外部依存が増える。個人用途でコスト/設定が割高。
- 自前JWT：安全性・運用負荷・パスワード管理が重い。

## トレードオフ
- UI/UXは素の Cognito Hosted UI だと素っ気ない（必要ならフロント側でラップ）。
- ベンダーロックインは一定程度あるが、MVPの速度・簡便さを優先。

## 撤回条件
- 外部IdP統合が主目的になり、他サービスの方がコスパ・機能で上回る。
- 非AWS基盤へ移行する明確な理由ができた場合。
