# ADR-0004: モノレポ採用と /spec ディレクトリに仕様集約

## 日付
2025-09-08

## 背景
- フロント/バック/インフラを横断して OpenAPI や設計情報を共有したい。
- Kiro などの spec-driven ツールに“仕様の入口”を固定したい。

## 決定
- リポジトリはモノレポ構成。
- 仕様関連はリポジトリ直下の `/spec/` に集約（Kiro のデフォルト探索に合わせる）。
  - `/spec/openapi.yaml`（APIの単一ソース）
  - `/spec/context.md`（全体要約）
  - `/spec/adr/`（アーキ決定記録）
  - 必要に応じて `/spec/requirements.md` など

## 代替案
- 各サブフォルダに仕様を分散：参照が散乱し、同期コストが増える。
- /shared/specs/ 配下：ツールのデフォルト外になるため追加設定が必要。

## トレードオフ
- 仕様が増えると /spec が肥大化する可能性 → 小分け&目次化で対応。

## 撤回条件
- ツール要件やセキュリティ上の理由で仕様を分割配置する必要が生じた場合。
